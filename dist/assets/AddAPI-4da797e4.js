import{u as A,r as t,a as _,j as e,L as n,_ as g}from"./index-8e74ae3b.js";import{u as C,a as E,v as O,F as P}from"./store-d66fdfbd.js";import{B as I}from"./index.esm-c86b5d13.js";import{S as h}from"./api-model-15bb46da.js";import{B as T}from"./index.esm-98a46209.js";import{H as z}from"./index.esm-eb339150.js";import{V as B}from"./index.esm-8f156d9d.js";import{A as L}from"./DynamicUrl-70a1987c.js";import{M,r as F}from"./index-293e9c2c.js";import J from"./Error-b57ffdec.js";import"./index-4d501b15.js";const R=t.lazy(()=>g(()=>import("./Modal-6cdf3196.js"),["assets/Modal-6cdf3196.js","assets/index-8e74ae3b.js","assets/index-090edb4d.css"])),f=t.lazy(()=>g(()=>import("./Index-cc693698.js"),["assets/Index-cc693698.js","assets/index-8e74ae3b.js","assets/index-090edb4d.css","assets/index-4d501b15.js"]));function $(){var x,p;let{theme:j,toggleTheme:v}=C(),c=A(),[m,k]=t.useState(""),[y,N]=t.useState(!1),[i,l]=t.useState(!1),[d,u]=t.useState("api"),[b,w]=t.useState(""),a=E(),s=_(),o=O(),S=r=>{k(JSON.stringify(r)),N(!0)};return a.env==="production"?e.jsx(J,{message:"You have no permission"}):e.jsxs("div",{className:"h-screen w-full dark:bg-dark-primary-50 relative",children:[e.jsx("button",{onClick:v,className:"absolute right-5 top-5 dark:text-white z-10",children:j==="dark"?e.jsx(P,{}):e.jsx(I,{})}),e.jsxs("div",{className:"container mx-auto pt-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5 w-full",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>{c(-1)},className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded pr-2  font-medium active:scale-95  mr-2",children:e.jsx(T,{className:"text-dark dark:text-white",size:25})}),e.jsx("h1",{className:"text-xl dark:text-gray-200 font-medium mb-0",children:"Add Api"})]}),e.jsxs("button",{className:"font-base flex items-center cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 justify-self-end rounded border border-gray-200 px-2 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white ml-2",onClick:()=>l(!0),children:[e.jsx(z,{size:20,className:"mr-1"}),e.jsx("span",{className:"hidden lg:block",children:"Show structure"})]})]}),e.jsxs("div",{className:"my-3",children:[e.jsxs("h1",{className:"dark:text-white text-lg mb-1",children:["Collection Name:",e.jsx("span",{className:"text-base font-normal p-1 px-2 ml-5 dark:bg-gray-700 text-[#fa6d1b] bg-gray-200 rounded",children:(x=a==null?void 0:a.api)==null?void 0:x.collectionName})]}),e.jsxs("h1",{className:"dark:text-white text-lg",children:["Base URL:",e.jsx("span",{className:"text-base font-normal p-1 px-2 ml-5 dark:bg-gray-700 text-[#fa6d1b] bg-gray-200 rounded",children:(p=a==null?void 0:a.api)==null?void 0:p.baseUrl})]})]}),e.jsxs("div",{className:"my-2 flex items-center",children:[e.jsx("button",{onClick:()=>u("api"),className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded px-2  font-medium hover:shadow-lg active:scale-95 dark:text-white mt-3 disabled:dark:border-blue-900 disabled:bg-blue-600 disabled:bg-opacity-20 disabled:text-gray-400 disabled:cursor-not-allowed disabled:active:scale-100 "+(d==="api"&&"bg-blue-600 dark:border-blue-600 text-white"),children:"API"}),e.jsx("button",{onClick:()=>u("description"),className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded px-2 ml-2 font-medium hover:shadow-lg active:scale-95 mt-3 dark:text-white disabled:dark:border-blue-900 disabled:bg-blue-600 disabled:bg-opacity-20 disabled:text-gray-400 disabled:cursor-not-allowed disabled:active:scale-100 "+(d==="description"&&"bg-blue-600 dark:border-blue-600 text-white"),children:"Description"})]}),d==="api"?e.jsx(t.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(f,{jsonData:h,readOnly:!1,height:"60vh",setData:S})}):e.jsx(M,{value:b,onChange:r=>w(r),previewOptions:{rehypePlugins:[[F]]},height:480}),e.jsx("button",{disabled:!y,onClick:()=>{if(m!==""){let D={...JSON.parse(JSON.parse(m)),description:b,id:o};a.addApi(s==null?void 0:s.id,o,JSON.stringify(D)),c(L(s==null?void 0:s.id,o))}},className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded border border-gray-200 px-14 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white mt-3 disabled:dark:border-blue-900 disabled:bg-blue-600 disabled:bg-opacity-20 disabled:text-gray-400 disabled:cursor-not-allowed disabled:active:scale-100",children:"Save"})]}),e.jsx(t.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(R,{isOpen:i,onClose:()=>l(!i),children:e.jsxs("div",{className:"dark:bg-dark-primary-50 p-5 w-[60vw] bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h1",{className:"text-lg font-medium dark:text-white",children:"Sample structure of data to make an API docs"}),e.jsx("button",{onClick:()=>l(!i),className:"p-2 rounded-full dark:hover:bg-dark-primary-40 dark:text-white",children:e.jsx(B,{})})]}),e.jsx("div",{className:"mt-4",children:e.jsx(t.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(f,{jsonData:h,readOnly:!0,height:"60vh",width:"58vw"})})})]})})})]})}export{$ as default};
